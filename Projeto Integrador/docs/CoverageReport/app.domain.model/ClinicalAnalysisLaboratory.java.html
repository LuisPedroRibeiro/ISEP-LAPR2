<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="pt"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ClinicalAnalysisLaboratory.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Sem2App$All_in_Sem2App.exec</a> &gt; <a href="index.source.html" class="el_package">app.domain.model</a> &gt; <span class="el_source">ClinicalAnalysisLaboratory.java</span></div><h1>ClinicalAnalysisLaboratory.java</h1><pre class="source lang-java linenums">package app.domain.model;

import app.list.ClinicalTestTypeList;
import app.utils.Utils;
import org.apache.commons.lang3.StringUtils;

import java.util.List;

/**
 * This class allows to create a Clinical Analysis Laboratory.
 *
 * @author Miguel Ramos &lt;1201247@isep.ipp.pt&gt;
 */
public class ClinicalAnalysisLaboratory {

    /**
     * A string with five alphanumeric characters.
     */
    private final String laboratoryId;

    /**
     * A string with no more than 30 characters.
     */
    private final String address;

    /**
     * A string with no more than 20 characters.
     */
    private final String name;

    /**
     * A number with 11 digit.
     */
    private final String phoneNumber;

    /**
     * A number with 10 digit.
     */
    private final String taxIdentificationNumber;

    /**
     * A list of Test Type connected to Clinical Analysis Laboratory.
     */
    private ClinicalTestTypeList clinicalTestTypeList;


    /**
     * A Constructor with all parameters of a Clinical Analysis Laboratory.
     * Allows the creation of a Clinical Analysis Laboratory with all parameters.
     *
     * @param laboratoryId A string that contains an id that identifies the Clinical Analysis Laboratory.
     * @param address A string that contains the full address of Clinical Analysis Laboratory.
     * @param name A string that contains the name of Clinical Analysis Laboratory.
     * @param phoneNumber A long that contains the phone number of Clinical Analysis Laboratory.
     * @param taxIdentificationNumber A long that contains the Tax Identification Number (TIN) of Clinical
     *                                Analysis Laboratory.
     */
    public ClinicalAnalysisLaboratory(String laboratoryId, String address, String name, String phoneNumber,
<span class="fc" id="L59">                                      String taxIdentificationNumber){</span>
<span class="fc" id="L60">        checkLaboratoryIdRules(laboratoryId);</span>
<span class="fc" id="L61">        this.laboratoryId= laboratoryId;</span>

<span class="fc" id="L63">        checkAddressRules(address);</span>
<span class="fc" id="L64">        this.address=address;</span>

<span class="fc" id="L66">        checkNameRules(name);</span>
<span class="fc" id="L67">        this.name=name;</span>

<span class="fc" id="L69">        checkPhoneNumberRules(phoneNumber);</span>
<span class="fc" id="L70">        this.phoneNumber=phoneNumber;</span>

<span class="fc" id="L72">        checkTaxIdentificationNumberRules(taxIdentificationNumber);</span>
<span class="fc" id="L73">        this.taxIdentificationNumber=taxIdentificationNumber;</span>

<span class="fc" id="L75">        this.clinicalTestTypeList= new ClinicalTestTypeList();</span>
<span class="fc" id="L76">    }</span>

    /**
     * Method that return Laboratory Id.
     * @return Laboratory Id.
     */
    public String getLaboratoryId() {
<span class="fc" id="L83">        return laboratoryId;</span>
    }

    /**
     * Method that return Address.
     * @return Address.
     */
    public String getAddress() {
<span class="fc" id="L91">        return address;</span>
    }

    /**
     * Method that return Name.
     * @return Name.
     */
    public String getName() {
<span class="fc" id="L99">        return name;</span>
    }

    /**
     * Method that return Phone Number.
     * @return Phone Number.
     */
    public String getPhoneNumber() {
<span class="fc" id="L107">        return phoneNumber;</span>
    }

    /**
     * Method that return TIN.
     * @return TIN.
     */
    public String getTaxIdentificationNumber() {
<span class="fc" id="L115">        return taxIdentificationNumber;</span>
    }

    /**
     * Allows the verification of laboratory id restrictions throwing an exception if the operation fails.
     *
     * @param laboratoryId The parameter that will be checked (five alphanumeric characters).
     */
    public void checkLaboratoryIdRules(String laboratoryId){
<span class="fc bfc" id="L124" title="All 2 branches covered.">        if(StringUtils.isBlank(laboratoryId))</span>
<span class="fc" id="L125">            throw new IllegalArgumentException(&quot;Laboratory Id cannot be blank.&quot;);</span>
<span class="fc bfc" id="L126" title="All 2 branches covered.">        if(laboratoryId.length()!=5){</span>
<span class="fc" id="L127">            throw new IllegalArgumentException(&quot;Laboratory Id should have 5 alphanumeric numbers.&quot;);</span>
        }
<span class="fc" id="L129">    }</span>

    /**
     * Allows the verification of address restrictions throwing an exception if the operation fails.
     *
     * @param address The parameter that will be checked (no more than 30 characters).
     */
    public void checkAddressRules(String address){
<span class="fc bfc" id="L137" title="All 2 branches covered.">        if(StringUtils.isBlank(address))</span>
<span class="fc" id="L138">            throw new IllegalArgumentException(&quot;Address cannot be blank.&quot;);</span>
<span class="fc bfc" id="L139" title="All 2 branches covered.">        if(address.length()&gt;20){</span>
<span class="fc" id="L140">            throw new IllegalArgumentException(&quot;Address should have 30 characters or fewer.&quot;);</span>
        }
<span class="fc" id="L142">    }</span>

    /**
     * Allows the verification of address restrictions throwing an exception if the operation fails.
     *
     * @param name The parameter that will be checked. (no more than 20 characters).
     */
    public static void checkNameRules(String name){
<span class="fc bfc" id="L150" title="All 2 branches covered.">        if(StringUtils.isBlank(name))</span>
<span class="fc" id="L151">            throw new IllegalArgumentException(&quot;Name cannot be blank.&quot;);</span>
<span class="fc bfc" id="L152" title="All 2 branches covered.">        if(name.length()&gt;30){</span>
<span class="fc" id="L153">            throw new IllegalArgumentException(&quot;Name should have 20 characters or fewer.&quot;);</span>
        }
<span class="fc" id="L155">    }</span>

    /**
     * Allows the verification of address restrictions throwing an exception if the operation fails.
     *
     * @param phoneNumber The parameter that will be checked (11 digit number).
     */
    public void checkPhoneNumberRules(String phoneNumber){
<span class="fc bfc" id="L163" title="All 2 branches covered.">        if(!Utils.onlyDigits(phoneNumber))</span>
<span class="fc" id="L164">            throw new IllegalArgumentException(&quot;Phone Number cannot have letters.&quot;);</span>
<span class="fc bfc" id="L165" title="All 2 branches covered.">        if (StringUtils.isBlank(phoneNumber))</span>
<span class="fc" id="L166">            throw new IllegalArgumentException(&quot;Phone Number cannot be blank.&quot;);</span>
<span class="fc bfc" id="L167" title="All 2 branches covered.">        if(phoneNumber.length()!=11){</span>
<span class="fc" id="L168">            throw new IllegalArgumentException(&quot;Phone Number should have 11 digit number.&quot;);</span>
        }
<span class="fc" id="L170">    }</span>

    /**
     * Allows the verification of address restrictions throwing an exception if the operation fails.
     *
     * @param taxIdentificationNumber The parameter that will be checked (10 digit number).
     */
    public void checkTaxIdentificationNumberRules(String taxIdentificationNumber){
<span class="fc bfc" id="L178" title="All 2 branches covered.">        if(!Utils.onlyDigits(taxIdentificationNumber))</span>
<span class="fc" id="L179">            throw new IllegalArgumentException(&quot;TIN cannot have letters.&quot;);</span>
<span class="fc bfc" id="L180" title="All 2 branches covered.">        if (StringUtils.isBlank(taxIdentificationNumber))</span>
<span class="fc" id="L181">            throw new IllegalArgumentException(&quot;TIN cannot be blank.&quot;);</span>
<span class="fc bfc" id="L182" title="All 2 branches covered.">        if(taxIdentificationNumber.length()!=10){</span>
<span class="fc" id="L183">            throw new IllegalArgumentException(&quot;TIN should have 10 digit number.&quot;);</span>
        }
<span class="fc" id="L185">    }</span>

    /**
     * Allows the creation of Clinical Test Type List with all Test Types selected by admin, and saves him.
     *
     * @param clinicalTestTypeList The List that will be saved.
     * @return Assignment of the Test Type List that receives as a parameter to the Test Type List of the Clinical
     * Analysis Laboratory.
     */
    public void saveTestTypeListToClinicalAnalysisLaboratory(ClinicalTestTypeList clinicalTestTypeList){
<span class="pc bpc" id="L195" title="1 of 2 branches missed.">        if(clinicalTestTypeList.getSize()==0){</span>
<span class="nc" id="L196">            throw new IllegalArgumentException(&quot;You need to have at least 1 Test Type in that List to save that&quot;);</span>
        }
<span class="fc" id="L198">        this.clinicalTestTypeList = clinicalTestTypeList;</span>
<span class="fc" id="L199">    }</span>

    /**
     * The method that allows the comparation of two ClinicalAnalysisLaboratory by laboratoryId.
     *
     * @param clinicalAnalysisLaboratory The parameter that will be compared.
     * @return A boolean that compare two Clinical Analysis Laboratory by laboratoryId, return true
     * if they have the same laboratoryId, return false if not.
     */
    @Override
    public boolean equals(Object clinicalAnalysisLaboratory){
<span class="fc bfc" id="L210" title="All 2 branches covered.">        if (this == clinicalAnalysisLaboratory)</span>
<span class="fc" id="L211">            return true;</span>
<span class="fc bfc" id="L212" title="All 4 branches covered.">        if (clinicalAnalysisLaboratory == null || getClass() != clinicalAnalysisLaboratory.getClass())</span>
<span class="fc" id="L213">            return false;</span>
<span class="fc" id="L214">        ClinicalAnalysisLaboratory cals= (ClinicalAnalysisLaboratory) clinicalAnalysisLaboratory;</span>
<span class="fc bfc" id="L215" title="All 4 branches covered.">        return this.laboratoryId.equals(cals.laboratoryId) || this.address.equals(cals.address) ||</span>
<span class="pc bpc" id="L216" title="1 of 2 branches missed.">                this.phoneNumber.equals(cals.phoneNumber) ||</span>
<span class="pc bpc" id="L217" title="1 of 2 branches missed.">                this.taxIdentificationNumber.equals(cals.taxIdentificationNumber);</span>
    }

    /**
     * The method that allows seeing all the parameters of a Clinical Analysis Laboratory in a organised way.
     *
     * @return All parameters of a Clinical Analysis Laboratory with a specific format.
     */
    @Override
    public String toString(){
<span class="fc" id="L227">        return String.format(&quot;##Clinical Analysis Laboratory## %n Laboratory Id: %s %n Address: %s %n Name: %s %n &quot; +</span>
                        &quot;Phone number: %s %n TIN: %s %n&quot;, laboratoryId,address,name,
                phoneNumber,taxIdentificationNumber);
    }

    /**
     * Method that returns the list of Test Types associated to the Laboratory.
     *
     * @return the list of the Test Type
     */
    public List&lt;TestType&gt; getClinicalTestTypeList() {
<span class="nc" id="L238">        return clinicalTestTypeList.getClinicalTestType();</span>
    }
}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>